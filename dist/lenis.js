var t=require("tiny-emitter");function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=/*#__PURE__*/i(require("virtual-scroll"));function o(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(){return n=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},n.apply(this,arguments)}function s(t,i){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},s(t,i)}function l(t,i){var e=t%i;return e<0&&(e+=i),e}var c=["duration","easing"],a=/*#__PURE__*/function(){function t(){}var i=t.prototype;return i.to=function(t,i){var e=this,o=void 0===i?{}:i,r=o.duration,s=void 0===r?1:r,l=o.easing,a=void 0===l?function(t){return t}:l,h=function(t,i){if(null==t)return{};var e,o,r={},n=Object.keys(t);for(o=0;o<n.length;o++)i.indexOf(e=n[o])>=0||(r[e]=t[e]);return r}(o,c);this.target=t,this.fromKeys=n({},h),this.toKeys=n({},h),this.keys=Object.keys(n({},h)),this.keys.forEach(function(i){e.fromKeys[i]=t[i]}),this.duration=s,this.easing=a,this.currentTime=0,this.isRunning=!0},i.stop=function(){this.isRunning=!1},i.raf=function(t){var i=this;if(this.isRunning){this.currentTime=Math.min(this.currentTime+t,this.duration);var e=this.easing(this.progress);this.keys.forEach(function(t){var o=i.fromKeys[t];i.target[t]=o+(i.toKeys[t]-o)*e}),1===e&&this.stop()}},r(t,[{key:"progress",get:function(){return this.currentTime/this.duration}}]),t}();module.exports=/*#__PURE__*/function(t){var i,o;function n(i){var o,r,n,s,l=void 0===i?{}:i,c=l.duration,h=void 0===c?1.2:c,u=l.easing,p=void 0===u?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:u,d=l.smooth,f=void 0===d||d,v=l.mouseMultiplier,g=void 0===v?1:v,w=l.smoothTouch,m=void 0!==w&&w,y=l.touchMultiplier,b=void 0===y?2:y,S=l.direction,N=void 0===S?"vertical":S,O=l.gestureDirection,z=void 0===O?"vertical":O,R=l.infinite,T=void 0!==R&&R,W=l.wrapper,M=void 0===W?window:W,j=l.content,k=void 0===j?document.body:j;(s=t.call(this)||this).onWindowResize=function(){s.wrapperWidth=window.innerWidth,s.wrapperHeight=window.innerHeight},s.onWrapperResize=function(t){var i=t[0];if(i){var e=i.contentRect;s.wrapperWidth=e.width,s.wrapperHeight=e.height}},s.onContentResize=function(t){var i=t[0];if(i){var e=i.contentRect;s.contentWidth=e.width,s.contentHeight=e.height}},s.onVirtualScroll=function(t){var i=t.deltaY,e=t.deltaX,o=t.originalEvent,r=!!o.composedPath().find(function(t){return t.hasAttribute&&t.hasAttribute("data-lenis-prevent")});o.ctrlKey||r||(s.smooth=o.changedTouches?s.smoothTouch:s.options.smooth,s.stopped?o.preventDefault():s.smooth&&4!==o.buttons&&(s.smooth&&o.preventDefault(),s.targetScroll-="both"===s.gestureDirection?e+i:"horizontal"===s.gestureDirection?e:i,s.scrollTo(s.targetScroll)))},s.onScroll=function(t){s.isScrolling&&s.smooth||(s.targetScroll=s.scroll=s.lastScroll=s.wrapperNode[s.scrollProperty],s.notify())},window.lenisVersion="0.2.23",s.options={duration:h,easing:p,smooth:f,mouseMultiplier:g,smoothTouch:m,touchMultiplier:b,direction:N,gestureDirection:z,infinite:T,wrapper:M,content:k},s.duration=h,s.easing=p,s.smooth=f,s.mouseMultiplier=g,s.smoothTouch=m,s.touchMultiplier=b,s.direction=N,s.gestureDirection=z,s.infinite=T,s.wrapperNode=M,s.contentNode=k,s.wrapperNode.addEventListener("scroll",s.onScroll),s.wrapperNode===window?(s.wrapperNode.addEventListener("resize",s.onWindowResize),s.onWindowResize()):(s.wrapperHeight=s.wrapperNode.offsetHeight,s.wrapperWidth=s.wrapperNode.offsetWidth,s.wrapperObserver=new ResizeObserver(s.onWrapperResize),s.wrapperObserver.observe(s.wrapperNode)),s.contentHeight=s.contentNode.offsetHeight,s.contentWidth=s.contentNode.offsetWidth,s.contentObserver=new ResizeObserver(s.onContentResize),s.contentObserver.observe(s.contentNode),s.targetScroll=s.scroll=s.lastScroll=s.wrapperNode[s.scrollProperty],s.animate=new a;var D=(null==(o=navigator)||null==(r=o.userAgentData)?void 0:r.platform)||(null==(n=navigator)?void 0:n.platform)||"unknown";return s.virtualScroll=new e.default({el:s.wrapperNode,firefoxMultiplier:50,mouseMultiplier:s.mouseMultiplier*(D.includes("Win")?.84:.4),touchMultiplier:s.touchMultiplier,passive:!1,useKeyboard:!1,useTouch:!0}),s.virtualScroll.on(s.onVirtualScroll),s}o=t,(i=n).prototype=Object.create(o.prototype),i.prototype.constructor=i,s(i,o);var c=n.prototype;return c.start=function(){this.stopped=!1},c.stop=function(){this.stopped=!0,this.animate.stop()},c.destroy=function(){var t;this.wrapperNode===window&&this.wrapperNode.removeEventListener("resize",this.onWindowResize),this.wrapperNode.removeEventListener("scroll",this.onScroll),this.virtualScroll.destroy(),null==(t=this.wrapperObserver)||t.disconnect(),this.contentObserver.disconnect()},c.raf=function(t){var i=t-(this.now||0);this.now=t,!this.stopped&&this.smooth&&(this.lastScroll=this.scroll,this.animate.raf(.001*i),this.scroll===this.targetScroll&&(this.lastScroll=this.scroll),this.isScrolling&&(this.setScroll(this.scroll),this.notify()),this.isScrolling=this.scroll!==this.targetScroll)},c.setScroll=function(t){var i=this.infinite?l(t,this.limit):t;"horizontal"===this.direction?this.wrapperNode.scrollTo(i,0):this.wrapperNode.scrollTo(0,i)},c.notify=function(){var t=this.infinite?l(this.scroll,this.limit):this.scroll;this.scrollDirection=this.lastScroll===t?this.scrollDirection:this.lastScroll<t?1:-1,this.emit("scroll",{scroll:t,limit:this.limit,velocity:this.velocity,direction:this.scrollDirection,progress:t/this.limit})},c.scrollTo=function(t,i){var e=void 0===i?{}:i,o=e.offset,r=void 0===o?0:o,n=e.immediate,s=void 0!==n&&n,l=e.duration,c=void 0===l?this.duration:l,a=e.easing,h=void 0===a?this.easing:a;if(null!=t){var u;if("number"==typeof t)u=t;else if("top"===t||"#top"===t)u=0;else if("bottom"===t)u=this.limit;else{var p;if("string"==typeof t)p=document.querySelector(t);else{if(null==t||!t.nodeType)return;p=t}if(!p)return;var d=0;if(this.wrapperNode!==window){var f=this.wrapperNode.getBoundingClientRect();d="horizontal"===this.direction?f.left:f.top}var v=p.getBoundingClientRect();u=("horizontal"===this.direction?v.left:v.top)+this.scroll-d}u+=r,this.targetScroll=this.infinite?u:Math.max(0,Math.min(u,this.limit)),!this.smooth||s?(this.animate.stop(),this.scroll=this.lastScroll=this.targetScroll,this.setScroll(this.targetScroll)):this.animate.to(this,{duration:c,easing:h,scroll:this.targetScroll})}},r(n,[{key:"scrollProperty",get:function(){return this.wrapperNode===window?"horizontal"===this.direction?"scrollX":"scrollY":"horizontal"===this.direction?"scrollLeft":"scrollTop"}},{key:"limit",get:function(){return"horizontal"===this.direction?this.contentWidth-this.wrapperWidth:this.contentHeight-this.wrapperHeight}},{key:"velocity",get:function(){return this.scroll-this.lastScroll}}]),n}(t.TinyEmitter);
//# sourceMappingURL=lenis.js.map
